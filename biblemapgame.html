<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bible Adventure Map</title>
    <style>
        body {
            margin: 0;
            font-family: 'Comic Sans MS', sans-serif;
            background: #f7f3e9;
        }

        header {
            background: #004c3f;
            color: #fff;
            padding: 1rem;
            text-align: center;
            font-size: 1.5rem;
        }

        #map {
            position: relative;
            background: url('images/map-placeholder.jpg') no-repeat center center;
            background-size: cover;
            height: 85vh;
        }

        .location {
            position: absolute;
            width: 34px;
            height: 34px;
            border-radius: 50%;
            border: 2px solid #6c4f3d;
            background: radial-gradient(circle, #fff9d4 0%, #ffd27b 60%, #f2b166 100%);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
            cursor: pointer;
            transform: translate(-50%, -50%);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            padding: 0;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }

            .location:hover,
            .location:focus-visible {
                transform: translate(-50%, -50%) scale(1.08);
                box-shadow: 0 6px 12px rgba(0, 0, 0, 0.35);
            }

            .location::after {
                content: attr(data-name);
                position: absolute;
                top: calc(100% + 6px);
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.75);
                color: #fff;
                padding: 2px 8px;
                border-radius: 4px;
                font-size: 0.75rem;
                white-space: nowrap;
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.15s ease-in-out;
            }

            .location:hover::after,
            .location:focus::after {
                opacity: 1;
            }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* Modal */
        #storyModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 600px;
            text-align: center;
        }

            .modal-content h2 {
                margin-top: 0;
            }

        .close-btn {
            margin-top: 1rem;
            background: #6c4f3d;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

            .close-btn:hover {
                background: #8a684e;
            }
    </style>
</head>
<body>
    <header>
        Bible Adventure Map
    </header>

    <div id="map">
        <button type="button" id="egypt" class="location" data-place="Egypt" data-name="Egypt" aria-label="Egypt">
            <span class="sr-only">Egypt</span>
        </button>
        <button type="button" id="israel" class="location" data-place="Israel" data-name="Israel" aria-label="Israel">
            <span class="sr-only">Israel</span>
        </button>
        <button type="button" id="babylon" class="location" data-place="Babylon" data-name="Babylon" aria-label="Babylon">
            <span class="sr-only">Babylon</span>
        </button>
        <button type="button" id="jericho" class="location" data-place="Jericho" data-name="Jericho" aria-label="Jericho">
            <span class="sr-only">Jericho</span>
        </button>
        <button type="button" id="nineveh" class="location" data-place="Nineveh" data-name="Nineveh" aria-label="Nineveh">
            <span class="sr-only">Nineveh</span>
        </button>
        <button type="button" id="nazareth" class="location" data-place="Nazareth" data-name="Nazareth" aria-label="Nazareth">
            <span class="sr-only">Nazareth</span>
        </button>
        <button type="button" id="bethlehem" class="location" data-place="Bethlehem" data-name="Bethlehem" aria-label="Bethlehem">
            <span class="sr-only">Bethlehem</span>
        </button>
        <button type="button" id="jerusalem" class="location" data-place="Jerusalem" data-name="Jerusalem" aria-label="Jerusalem">
            <span class="sr-only">Jerusalem</span>
        </button>
        <button type="button" id="sinai" class="location" data-place="Mount Sinai" data-name="Mount Sinai" aria-label="Mount Sinai">
            <span class="sr-only">Mount Sinai</span>
        </button>
    </div>

    <!-- Modal -->
    <div id="storyModal">
        <div class="modal-content">
            <h2 id="storyTitle"></h2>
            <p id="storyText"></p>
            <button class="close-btn" onclick="closeModal()">Close</button>
        </div>
    </div>

    <script>
        const stories = {
            Egypt: {
                title: "Egypt – Exodus & Deliverance",
                text: "The Israelites lived in slavery here until God sent Moses to deliver them. The Exodus story includes plagues, Passover, and the parting of the Red Sea."
            },
            Israel: {
                title: "Israel – God's Promised Land",
                text: "The land God promised to Abraham’s descendants. Home to tribes of Israel, prophets, kings, and later Jesus’ ministry."
            },
            Babylon: {
                title: "Babylon – Captivity & Faith",
                text: "A place of exile for the Jews. Daniel, Esther, and others remained faithful under foreign rule. Many prophecies were fulfilled here."
            },
            Jericho: {
                title: "Jericho – Walls Came Down",
                text: "The first city conquered in Canaan. Joshua led the Israelites around the city for seven days, and the walls fell down by God’s power. (Joshua 6)"
            },
            Nineveh: {
                title: "Nineveh – Jonah's Mission",
                text: "The capital of Assyria. Jonah was sent to preach repentance here. To his surprise, the people actually repented! (Book of Jonah)"
            },
            Nazareth: {
                title: "Nazareth – Jesus' Hometown",
                text: "Where Jesus grew up. Though small and humble, it became famous as the place where the Savior lived most of His life."
            },
            Bethlehem: {
                title: "Bethlehem – Birthplace of Christ",
                text: "Jesus was born here in fulfillment of prophecy. It was also the hometown of King David. (Micah 5:2, Luke 2)"
            },
            Jerusalem: {
                title: "Jerusalem – Holy City",
                text: "Center of worship, where the temple stood. Jesus was crucified and rose again here. It is deeply significant throughout the Bible."
            },
            "Mount Sinai": {
                title: "Mount Sinai – Covenant with God",
                text: "Moses received the Ten Commandments here. It was a sacred meeting point between God and His people. (Exodus 19–20)"
            }
        };

        const locationCoordinates = {
            Egypt: { lat: 30.0444, lon: 31.2357 },
            Israel: { lat: 31.0461, lon: 34.8516 },
            Babylon: { lat: 32.54, lon: 44.42 },
            Jericho: { lat: 31.87, lon: 35.45 },
            Nineveh: { lat: 36.35, lon: 43.15 },
            Nazareth: { lat: 32.6996, lon: 35.3035 },
            Bethlehem: { lat: 31.7054, lon: 35.2024 },
            Jerusalem: { lat: 31.7683, lon: 35.2137 },
            "Mount Sinai": { lat: 28.539, lon: 33.973 }
        };

        function positionLocations() {
            const bounds = { latMin: 26, latMax: 38.5, lonMin: 28, lonMax: 49 };
            document.querySelectorAll('.location').forEach(marker => {
                const place = marker.dataset.place;
                const coords = locationCoordinates[place];
                if (!coords) {
                    return;
                }

                const topPercent = (1 - (coords.lat - bounds.latMin) / (bounds.latMax - bounds.latMin)) * 100;
                const leftPercent = ((coords.lon - bounds.lonMin) / (bounds.lonMax - bounds.lonMin)) * 100;

                marker.style.top = `${topPercent}%`;
                marker.style.left = `${leftPercent}%`;
            });
        }

        function wireLocationInteractions() {
            document.querySelectorAll('.location').forEach(marker => {
                const place = marker.dataset.place;
                marker.addEventListener('click', () => showStory(place));
                marker.addEventListener('keydown', event => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        showStory(place);
                    }
                });
            });
        }

        function showStory(place) {
            document.getElementById('storyTitle').innerText = stories[place].title;
            document.getElementById('storyText').innerText = stories[place].text;
            document.getElementById('storyModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('storyModal').style.display = 'none';
        }

        positionLocations();
        wireLocationInteractions();
    </script>
    <h3>
        <a href="sandbox.html" class="church-link">Back to sandbox</a>
    </h3>
</body>
</html>
